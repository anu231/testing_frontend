<div>
  <div id="home_parent_div">
    <div class="col-xs-12 col-lg-8 col-lg-offset-2">
    <h3>Available Papers</h3>
    </div>
    <div id="home_papers_table" class="col-xs-12 col-lg-8 col-lg-offset-2">
      <table class="table table-bordered table-hover">
        <thead id="home_table_head">
          <th class="text-center">Title</th>
          <th class="text-center">Duration</th>
          <th class="text-center">Expires on</th>
          <th class="text-center">Action</th>
          <th class="text-center">Status</th>
        </thead>
        <tbody>
                <!--ongoing papers first!-->
          <tr ng-class="{'info':paper.status=='ongoing'}" ng-repeat="paper in ongoing_papers | orderBy:'rank'">
            <td><b ng-class="{'text-primary': paper.status=='ongoing'}">{{paper.name}}</b></td>
            <td class="text-center"><b>{{paper.time.slice(0,5)}}</b></td>
            <td ng-class="{'text-danger': paper.isExpired}"  class="text-center"><p><span ng-if="paper.isExpired">[ <span class="glyphicon glyphicon-ban-circle"></span>  Expired ]</span></p> {{getTzDate(paper.lastdate)}} - <b>{{getTzTime(paper.lastdate)}}</b> </td>
            <td class="text-center">
              <button class="btn btn-info" ng-disabled="paper.isExpired"  ng-click='attemptPaper(paper)'  ng-if='paper.status == "ongoing"'><span class="glyphicon glyphicon-play"></span> Resume</button>
              <button class="btn btn-primary" ng-disabled="paper.isExpired"  ng-click='attemptPaper(paper)'  ng-if='paper.status == undefined'>Attempt</button>
              <button class="btn btn-default" ng-disabled="paper.isExpired"  ng-click='attemptPaper(paper)'  ng-if='paper.status == "attempted"'>Retake</button>
            </td>
            <td ng-if='paper.status == "attempted"' class="text-center">
              <button class='btn btn-default'><span class="glyphicon glyphicon-dashboard"></span> Results &amp; Analysis</button>
            </td>
            <td ng-if='paper.status == "ongoing"' class="text-center"> 
              <p class="text-info"><b><u>Ongoing</u> <span class="text-success">({{getRemainingTime(paper.attemptStartTime, paper.time.slice(0,5))}} Remaining)</span></b></p>
            </td>
            <td ng-if='paper.status == undefined' class="text-center"> <p><b>---</b></p></td>
          </tr>
          <!-- /ongoing papers  -->

          <!-- fresh unattempted papers-->
          <tr ng-class="{'info':paper.status==true}" ng-repeat="paper in fresh_papers | orderBy:'lastdate'">
            <td><b ng-class="{'text-primary': paper.status=='ongoing'}">{{paper.name}}</b></td>
            <td class="text-center"><b>{{paper.time.slice(0,5)}}</b></td>
            <td ng-class="{'text-danger': paper.isExpired}"  class="text-center"><p><span ng-if="paper.isExpired">[ <span class="glyphicon glyphicon-ban-circle"></span>  Expired ]</span></p> {{getTzDate(paper.lastdate)}} - <b>{{getTzTime(paper.lastdate)}}</b> </td>
            <td  class="text-center">
              <button class="btn btn-info"  ng-click='attemptPaper(paper)' ng-disabled="paper.isExpired" ng-if='paper.status == "ongoing"'><span class="glyphicon glyphicon-play"></span> Resume</button>
              <button class="btn btn-primary" ng-click='attemptPaper(paper)'  ng-disabled="paper.isExpired"  ng-if='paper.status == undefined'>Attempt</button>
              <button class="btn btn-default" ng-click='attemptPaper(paper)' ng-disabled="paper.isExpired" ng-if='paper.status == "attempted"'>Retake</button>
            </td>
            <td ng-if='paper.status == "attempted"' class="text-center">
              <button class='btn btn-default' ng-click="viewResult(paper)"><span class="glyphicon glyphicon-dashboard"></span> Results &amp; Analysis</button>
            </td>
            <td ng-if='paper.status == "ongoing"' class="text-center"> 
              <p class="text-info"><b><u>Ongoing</u> <span class="text-success">({{getRemainingTime(paper.attemptStartTime, paper.time.slice(0,5))}} Remaining)</span></b></p>
            </td>
            <td ng-if='paper.status == undefined' class="text-center"> <p><b>---</b></p></td>
          </tr>
          <!-- /fresh papers  -->

          <!-- attempted papers -->
          <tr ng-class="{'info':paper.status=='ongoing'}" ng-repeat="paper in attempted_papers | orderBy:'-lastdate'">
            <td><b ng-class="{'text-primary': paper.status=='ongoing'}">{{paper.name}}</b></td>
            <td class="text-center"><b>{{paper.time.slice(0,5)}}</b></td>
            <td ng-class="{'text-danger': paper.isExpired}"  class="text-center"><p><span ng-if="paper.isExpired">[ <span class="glyphicon glyphicon-ban-circle"></span>  Expired ]</span></p> {{getTzDate(paper.lastdate)}} - <b>{{getTzTime(paper.lastdate)}}</b> </td>
            <td class="text-center">
              <button class="btn btn-info" ng-disabled="paper.isExpired" ng-click='attemptPaper(paper)'  ng-if='paper.status == "ongoing"'><span class="glyphicon glyphicon-play"></span> Resume</button>
              <button class="btn btn-primary" ng-disabled="paper.isExpired" ng-click='attemptPaper(paper)'  ng-if='paper.status == undefined'>Attempt</button>
              <button class="btn btn-default" ng-disabled="paper.isExpired" ng-click='attemptPaper(paper)'  ng-if='paper.status == "attempted"'>Retake</button>
            </td>
            <td ng-if='paper.status == "attempted"' class="text-center">
              <button class='btn btn-default' ng-click="viewResult(paper)"><span class="glyphicon glyphicon-dashboard"></span> Results &amp; Analysis</button>
            </td>
            <td ng-if='paper.status == "ongoing"' class="text-center"> 
              <p class="text-info"><b><u>Ongoing</u> <span class="text-success">({{getRemainingTime(paper.attemptStartTime, paper.time.slice(0,5))}} Remaining)</span></b></p>
            </td>
            <td ng-if='paper.status == undefined' class="text-center"> <p><b>---</b></p></td>
          </tr>
                  <!--attempted papers-->
                  <!--expired like milk-->

          <tr ng-class="{'info':paper.status=='ongoing'}" ng-repeat="paper in expired_papers | orderBy:'-lastdate'">
            <td><b ng-class="{'text-primary': paper.status=='ongoing'}">{{paper.name}}</b></td>
            <td class="text-center"><b>{{paper.time.slice(0,5)}}</b></td>
            <td ng-class="{'text-danger': paper.isExpired}"  class="text-center"><p><span ng-if="paper.isExpired">[ <span class="glyphicon glyphicon-ban-circle"></span>  Expired ]</span></p> {{getTzDate(paper.lastdate)}} - <b>{{getTzTime(paper.lastdate)}}</b> </td>
            <td class="text-center">
              <button class="btn btn-info" ng-disabled="paper.isExpired" ng-click='attemptPaper(paper)'   ng-if='paper.status == "ongoing"'><span class="glyphicon glyphicon-play"></span> Resume</button>
              <button class="btn btn-primary" ng-disabled="paper.isExpired"  ng-click='attemptPaper(paper)'  ng-if='paper.status == undefined'>Attempt</button>
              <button class="btn btn-default" ng-disabled="paper.isExpired" ng-click='attemptPaper(paper)'  ng-if='paper.status == "attempted"'>Retake</button>
            </td>
            <td ng-if='paper.status == "attempted"' class="text-center">
              <button class='btn btn-default' ng-click="viewResult(paper)"><span class="glyphicon glyphicon-dashboard"></span> Results &amp; Analysis</button>
            </td>
            <td ng-if='paper.status == "ongoing"' class="text-center"> 
              <p class="text-info"><b><u>Ongoing</u> <span class="text-success">({{getRemainingTime(paper.attemptStartTime, paper.time.slice(0,5))}} Remaining)</span></b></p>
            </td>
            <td ng-if='paper.status == undefined' class="text-center"> <p><b>---</b></p></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div ui-view>
  </div>
</div>
