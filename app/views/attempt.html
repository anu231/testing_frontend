<div ng-init="selectedQuestion = questions[0];" class="view-attempt"> 
  <!-- List of question  -->
  <div snap-drawer id="left_drawer">
    <div id="index_header" class="col-xs-12">
      <div class="col-xs-3">
        No.
      </div>
      <div class="col-xs-3">
        Sub
      </div>
      <div class="col-xs-3">
        Type
      </div>
      <div class="col-xs-3">
        Sync
      </div>
    </div>
    <ul id="index_list" class="list-group">
      <li ng-repeat="question in questions"  class="list-group-item index-list-item" ng-click="selectQuestion(question)">
        <div class="row index-question" >
          <div class="col-xs-3 index-question-no" ng-class="{'index-question-marked':question.marked==true, 'index-question-saved':question.confirmed==true}">
            {{$index + 1}} 
          </div>
          <div class="col-xs-3">
            <span class="badge" ng-class="{'index-badge-math':question.subj=='Math', 'index-badge-chemistry':question.subj=='Chemistry','index-badge-physics':question.subj=='Physics'}">{{question.subj[0]}}</span>
          </div>
          <div class="col-xs-3">
            <span class="badge" ng-class="{'index-badge-questiontype':true}"> {{question.ques_type}}</span>
          </div>
          <div class="col-xs-3">
            <span class="badge badge-questiontype">S</span>
          </div>
        </div>
      </li>
    </ul>

  </div> <!-- end side panel  -->  

  <!--  Main content area  -->  
  <div snap-content id="main_content" class="">

    <!-- Top info bar  -->
    <div id="top_bar">
      <button id="left_drawer_button" snap-toggle="left" class=" btn" title="Show the list of questions">
        <span class="glyphicon glyphicon-list"></span>
      </button>
      <div id="global_timer"><span class="glyphicon glyphicon-time"></span> <span id="timeo">00:00</span></div>
      <div id="current_question_no" >{{(questions.indexOf(selectedQuestion) + 1) + '/' +  questions.length }}</div>

      <div id="user_info">
        <div id="user_name" >John Doe</div>
      </div>
    </div> <!-- End info bar  -->

    <!-- question-area  -->
    <div id="question_area">

      <!--only for debugging-->
      <div ng-if="false">
        <p>{{questions.indexOf(selectedQuestion) + 1}}</p>
        <div ng-if="selectedQuestion.ques_type=='SC'"> <h5>Ans:{{selectedQuestion.answer}}</h5></div>
        <div ng-if="selectedQuestion.ques_type=='MC'">
          <p>a:{{selectedQuestion.answer1}} b: {{selectedQuestion.answer2}} c: {{selectedQuestion.answer3}} d: {{selectedQuestion.answer4}}</p>
        </div>
      </div>
      <!-- question-body  -->
      <!--<div id="question_body" class="col-xs-10 col-xs-offset-1">-->
      <!--<div ng-bind-html="selectedQuestion.question"> </div>-->
      <!--</div> [> /body  <]-->

      <!--  SC -->
      <div ng-if="selectedQuestion.ques_type=='SC'" id="" class="col-xs-12 col-md-8 col-md-offset-2">
        <ul id="question_body_box" class="list-group">
          <a href="#" class="list-group-item">
            <div id="question_body" ng-bind-html="selectedQuestion.question"> </div>
          </a>
          <li ng-repeat="(key, val) in {'a':'ans1', 'b':'ans2', 'c':'ans3', 'd':'ans4'}"  class="list-group-item">
            <input id="{{key}}" type="radio" name="option" ng-model="selectedQuestion.answer" value="{{key}}">
            <label for="{{key}}" class="col-xs-12 vcenter">
              <div class="custom-radio col-xs-1">
              </div>
              <div class="option-body col-xs-10" ng-bind-html="selectedQuestion[val]">
              </div>
            </label>
          </li>
        </ul>
      </div> <!-- /options SC  -->

      <!--options for MC-->
      <div ng-if="selectedQuestion.ques_type=='MC'" id="" class="col-xs-12 col-md-8 col-md-offset-2">
        <ul id="question_body_box" class="list-group">
          <a  class="list-group-item">
            <div id="question_body" ng-bind-html="selectedQuestion.question"> </div>
          </a>
          <li  ng-repeat="(key,val) in {'A':'ans1', 'B':'ans2', 'C':'ans3', 'D':'ans4'}"  class="list-group-item">
            <input id="{{key}}" type="checkbox" name="{{'option'+$index}}" ng-model="selectedQuestion['answer' + key]" ng-false-value="undefined">
            <label for="{{key}}" class="col-xs-12 vcenter">
              <div class="custom-checkbox col-xs-1">
              </div>
            <div class="option-body col-xs-11" ng-bind-html="selectedQuestion[val]">
            </div>
            </label>
          </li>
        </ul>
      </div> <!-- /mc  -->

      <!--options for IT-->
      <div ng-if="selectedQuestion.ques_type=='IT'" id="" class="col-xs-12 col-md-8 col-md-offset-2">
        <ul id="question_body_box" class="list-group">
          <a class="list-group-item">
            <div id="question_body" ng-bind-html="selectedQuestion.question"> </div>
          </a>
          <li class="list-group-item">
            <label for="numerical_ans"><h3>Answer:</h3></label>
            <input id="ans" class="form-control" type="number" name="answer" step="1" ng-model="selectedQuestion.answer">
          </li>
        </ul>
        <div role="alert">
          <!-- TODO Alert if user inputs fractions  -->
        </div>
      </div> <!-- /IT  -->

      <!-- TF  -->
      <div ng-if="selectedQuestion.ques_type=='TF'" id="" class="col-xs-12 col-md-8 col-md-offset-2">
        <ul id="question_body_box" class="list-group">
          <a href="#" class="list-group-item">
            <div id="question_body" ng-bind-html="selectedQuestion.question"> </div>
          </a>
          <li ng-repeat="(key, val) in {'a':'ans1', 'b':'ans2', 'c':'ans3', 'd':'ans4'}"  class="list-group-item">
            <input id="{{key}}" type="radio" name="option" ng-model="selectedQuestion.answer" value="{{key}}">
            <label for="{{key}}" class="col-xs-12 vcenter">
              <div class="custom-radio col-xs-1">
              </div>
              <div class="option-body col-xs-10" ng-bind-html="selectedQuestion[val]">
              </div>
            </label>
          </li>
        </ul>

      </div> <!-- /TF -->

      <!-- AR  -->
      <div ng-if="selectedQuestion.ques_type=='AR'" id="" class="col-xs-12 col-md-10 col-md-offset-1">
        Assertion reasoning
        <ul id="question_body_box" class="list-group">
          <a href="#" class="list-group-item">
            <div id="question_body">
              <div>Assertion:</div>
              <div ng-bind-html="selectedQuestion.question"> </div>
              <div>Reason:</div>
              <div ng-bind-html="selectedQuestion['ans1']"></div>
            </div>
          </a>
          <li ng-repeat="(key, val) in {'a':'Assertion is correct, Reason is also correct and gives the correct justification for Assertion', 'b':'Assertion is correct and Reason is also correct but it does not justify Assertion', 'c':'Assertion is correct and Reason is wrong', 'd':'Assertion is wrong and Reason is correct'}"  class="list-group-item">
            <input id="{{key}}" type="radio" name="option" ng-model="selectedQuestion.answer" value="{{key}}">
            <label for="{{key}}" class="col-xs-12 vcenter">
              <div class="custom-radio col-xs-1">
              </div>
              <div class="option-body col-xs-10">
                {{val}}
              </div>
            </label>
          </li>
        </ul>
      </div> <!-- /ar  -->

      <!-- ch  -->
      <div ng-if="selectedQuestion.ques_type=='CH'" id="" class="col-xs-12 col-md-10 col-md-offset-1">
        comprehension
        <ul id="question_body_box" class="list-group">
          <a  class="list-group-item">
            <div id="question_body" ng-bind-html="selectedQuestion.question"> </div>
          </a>
          <li  ng-repeat="(key,val) in {'A':'ans1', 'B':'ans2', 'C':'ans3', 'D':'ans4'}"  class="list-group-item">
            <input id="{{key}}" type="radio" name="option" ng-model="selectedQuestion.answer" value="key">
            <label for="{{key}}" class="col-xs-12 vcenter">
              <div class="custom-radio col-xs-1">
              </div>
            <div class="option-body col-xs-11" ng-bind-html="selectedQuestion[val]">
            </div>
            </label>
          </li>
        </ul>
      </div> <!-- /ch  -->

      <!-- SA  --> 
      <div ng-if="selectedQuestion.ques_type=='SA'" id="" class="col-xs-12 col-md-8 col-md-offset-2">
        <ul id="question_body_box" class="list-group">
          <a href="#" class="list-group-item">
            <div id="question_body" ng-bind-html="selectedQuestion.question"> </div>
          </a>
          <li class="list-group-item">
            <label for="answer"><h5 class="text-primary">Answer</h5></label>
            <textarea class="form-control" id="answer" name="answer" cols="30" rows="7" ng-model="selectedQuestion.answer" ng-maxlength="1000"></textarea>
            <button class="btn btn-success">save</button>
          </li>
        </ul>
      </div> <!-- /SA  -->

      <!-- MT  --> 
      <div ng-if="selectedQuestion.ques_type=='MT'" id="" class="col-xs-12 col-md-10 col-md-offset-1">
        <ul id="question_body_box" class="list-group">
          <a  class="list-group-item">
            <div id="question_body" ng-bind-html="selectedQuestion.question"> </div>
          </a>
        </ul>
        Matrix Type
      </div> <!-- /SA  -->



    </div> <!-- /question-area  -->

    <!--Control buttons-->
    <div id="bottom_bar" class="col-xs-12">
          <div id="control_buttons">
            <button class="btn btn-default" ng-click="previousQuestion()"><span class="glyphicon glyphicon-arrow-left"></span></button>
            <button class="btn btn-success" ng-click="selectedQuestion.confirmed=true;selectedQuestion.marked=false; save(selectedQuestion)" data-toggle="tooltip" data-placement="top" title="Save your progress. Saved questions can be changed later."  ><span class="glyphicon glyphicon-ok"></span> Save</button>
            <button class="btn btn-warning" ng-click="selectedQuestion.marked = true; selectedQuestion.confirmed=false;" data-toggle="tooltip" data-placement="top" title="Mark this question for later review"><span class="glyphicon glyphicon-exclamation-sign"></span> Mark</button>
            <button class="btn btn-danger" ng-click="clearAnswer()" data-toggle="tooltip" data-placement="top" title="Clear the selected choices"><span class="glyphicon glyphicon-remove"></span>Clear</button>
            <button ng-class="{'btn': true,'btn-default':true}" }} ng-click="nextQuestion()"><span class="glyphicon glyphicon-arrow-right"></span></button>
          </div>
        <button ng-class="{'btn': true,'btn-warning':true, 'pull-right':true}" }} ng-click="displayInfo()"><span class="glyphicon glyphicon-info-sign"></span></button>
    </div>

  <!-- Alert popup box  -->
  <div id="abox" ng-model="alert_message" ng-if="notification_show==true" class='alert-box'>
    <div id="alert_message">
      <span >
        {{alert_message}}
      </span>
    </div>
    <div class="pull-right" ng-click="">
      <span class="glyphicon glyphicon-remove"></span>
    </div>
  </div>

  </div> <!-- /Main content area  -->
  Loading...

  <!-- TODO Window close alert box-->
  <!--<script type="text/javascript">-->
<!--window.addEventListener("beforeunload", function (e) {-->
  <!--// Custom message not working!-->
   <!--var confirmationMessage = "Future IITians don't give up!";-->
    <!--e.returnValue = confirmationMessage;     -->
     <!--return confirmationMessage;            -->
<!--}); -->
  <!--</script>-->
</div>
